from offer import Offer
import zlib
x = 'offer1qqp83w76wzru6cmqvpsxzgqqwc7hynr6hum6e0mnf72sn7uvvkpt68eyumkhelprk0adeg42nlelk2mpafrgx923m0l4l5rh6te02r8tsgvl07ceym674hz3z80d0lhchnpcrcydfdntxjy9fypchus9edmakhx5w28fh68afg42c6n4ayr2nq6jf47wdr2j6607g4h8a9hmnudl3hsut9d9qgxxq7lk647ayneehty5tkwem8a0rr54lvzhkkgmac75elt9a2ckwdd0htgvmltdvt5kamn2f7jna6f0t8precwd5mudn6dev4rm0tjgl2tvyf0u9ct3y3e3ndstzdx6rfq56q4r4kgar4kgdp4kfdp4qghsn6wkrgq3w7ct3thp6jr277uhy7w43eyskf4yw5k9eeagehyrjs600nav9q44x7awlhyp9t9e67htw8vx8twzmwch0d3g4x285vg9lyjvd3ql3c87h506up009dqnt2yzy9ljcwu4wrfk0pph8h9ms5tsk4chz6adm82ljkkmqu9rapd9mplwak8jlhjalmf42kr0x7h4us7s60wey8veh0avyhgcm3lyqjc0kzssmy9ke8lstpy688lekx2krnuy7kqaepg2qutzh9hvjh3jya90s4fdyunver8w0m8pnnsjvclv7mkket3kwfcytgpn8z8s96sy4xllpv4z0d7hnj5rjaw0v60aqh9tf7ger6ghrspdhdh3hry72av72328k0gt4r90aluz64d3daaamqdjpdhxem7tj9vnn24y7j2awy7ly69jgrrtrc7e4x3vklfq38u07qnkncvt8r7a388nwvuycjr6ahslz9emj68pm36hdnv7xhf8tw6veca0chasmr6u0zh6yj0duff8vfn06wxwe8c0dnqm3wym9yajvkztyuhwllcfflwlzje6nc0lqt4s8txhw2pphe77tn2nja0jme53lm68legr3mvaw4ucddlx768szkkts9mpz65nl305p2z4q2c7hlczjeukwu702uwnua00q3mudnl7eydgt34hzkjac896t6yvnl0v86gtvrlgnjwuhtu7lxlrdcdpsen739mer2cal4mcaz7snnflcw0lchffw9xe3n8l5mupxrfqqgvqepzvzvmep78xhpx0mgn944jhh3tlcxtcmuad0pnj46yxtkdk9yg5hvn2jq7j2cpp5dw62cdx62udk625dk625dk6t5dk6gcxj2edtncl2awp9xv6le6haanqhj4uwhzr90jadn3ztatupmvswmew25tnc5qkavx0g708ms2axll5xd0avrslejmf9m0lq4hg5ft2e3s3nfl8fs64u9tzkvk6pcyn6wwf765p68t5utp6j6a7arqh4sck9llu9w055j2thfg078p034xm0n48q7lx4yzmh457892rkuf5ygmdull47c9hhz5zfl7akknulnx2f26200znlr9vz0ht70jsj2la4lkrvze6hqnlclenyvnmqhjl7zttz28w6g7l08vx67dalwc4e4tt8mk48mah5h7m5w6lr8pf9f8rmujyk5ss340mjqmqgv0dngfdak2tgtvz4rnna9uagthfzv6lzckwal3rxywhxaaeqtrj50l0cajghvrpgz37qt9ndu0umsk2mkmmgd5hasuf040ajh59454ehu2w2a6su46w6wm0xx3mlttxvv2azj64lskmawmdjfpuv8rtrgudhdkwtwrlllkk5dtrlv8kezps0a3dquccv8yhf67898kjlhjuvw8c5yadumkd9kr6arxw9rg8ulrzmxlc4m4lrpxm3wx5uwq9744hvtdktm44684c5hj4uy6c9w7zm0mxvtdf4fap0hall8ztd4f7ln6jp7gfk5hqa6e2c6rdazujlfa7878l3h72lncuxxcx5paf8l7dl38qayyxhr0fulmtxlryfmxsh0r9s4fslamyxj0m28rj0rlkzhhhm6956vay4fdes8utfhljsv35g6jkeatmdxmed767uhx6jlc80ww4hk8rfxw54l4s5mslkt54j2wr7h52wk9uveavdn7g46lj0pzc9dvm9au8hal430l570zls7azyyhywz5ellaahuwl6uy4pnd3npuh9k7w6rtvmjf964t3unlftethtjgdqplghpp4f4a067'

def get_offer_summary(request):
    offer_hex: str = request
    offer = Offer.from_bech32(offer_hex)
    offered, requested, infos = offer.summary()
    print(offer.summary)

    return {"summary": {"offered": offered, "requested":requested, "infos": infos}}

get_offer_summary(x)





# t = b'\x00\x02x\xbb\xdap\x87\xcdc```a \x00v=rLz\xbf7\xac\xbfsO\x95\t\xfb\x8ce\x82\xbd\x1f$\xe6\xed|\xfc#\xb3\xfa\xdc\xa2\xaa\x9f\xf3\xfb+a\xeaF\x83\x15Q\xdb\xff_\xd0w\xd2\xf2\xf5\x0c\xeb\x82\x19\xf7\xfb\x19&\xf5\xea\xdcQ\x11\xde\xd7\xfe\xf8\xbc\xc3\x81\xe0\x8dKf\xb3H\x85I\x03\x8b\xf2\x05\xcbw\xdb\\\xd4r\x8e\x9b\xe8\xfdJ*\xacju\xe9\x06\xa9\x83RM|\xe6\x8dR\xd6\x9f\xe4V\xe7\xe9o\xb9\xf1\xbf\x8d\xe1\xc5\x95\xa5\x02\x0c`{\xf6\xd5}\xd2O9\xba\xc9E\xd9\xd9\xd9\xfa\xf1\x8e\x95\xfb\x05{Y\x1b\xee=L\xfde\xea\xb1g5\xaf\xba\xd0\xcd\xfdmb\xe9n\xeejO\xa5>\xe9/Y\xc2<\xe1\xcd\xa6\xf8\xd9\xe9\xb9eG\xb7\xaeH\xfa\x96\xc2%\xfc.\x17\x12G1\x9b`\xb14\xda\x1aAM\x02\xa3\xad\x91\xd1\xd6\xc8hkd\xb45\x02/\t\xe9\xd6\x1a\x01\x17{\x0b\x8a\xee\x1dHj\xf7\xb9ry\xd5\x8eI\x0b&\xa4u,\\\xe7\xa8\xcd\xc89CO|\xfa\xc2\x82\xb57\xba\xef\xdc\x81*\xcb\x9dz\xebq\xd8c\xad\xc2\xdb\xb1w\xb6(\xa9\x94z1\x05\xf9$\xc6\xc4\x1f\x8e\x0f\xeb\xd1\xfa\xe0^\xf2\xb4\x13Z\x88"\x17\xf2\xc3\xb9W\r6xCs\xdc\xbb\x85\x17\x0bW\x17\x16\xba\xdd\x9d_\x95\xad\xb0p\xa3\xe8Z]\x87\xee\xed\x8f/\xde]\xfe\xd3UXo7\xaf^C\xd0\xd3\xdd\x92\x1d\x99\xbb\xfa\xc2]\x18\xdc~@K\x0f\xb0\xa1\r\x90\xb6\xc9\xff\x05\x84\x9a9\xff\x9b\x19V\x1c\xf8OX\x1d\xc8P\xa0qb\xb9n\xc9^2\'J\xf8U-\'&\xcc\x8c\xee~\xce\x19\xce\x12f>\xcfn\xd6\xca\xe3g\'\x04Z\x033\x88\xf0.\xa0J\x9b\xff\x0b*\'\xb7\xd7\x9c\xa89u\xcff\x9f\xd0\\\xabO\x91\x91\xe9\x17\x1c\x02\xdb\xb6\xf1\xb8\xc9\xe5u\x9eTT{=\x0b\xa8\xca\xfe\xff\x82\xd5[\x16\xf7\xbd\xd8\x1b \xb6\xe6\xce\xfc\xb9\x15\x93\x9a\xaaOI]q=\xf2h\xb2@\xc6\xb1\xe3\xd9\xa9\xa2\xcb} \x89\xf8\xff\x02v\x9e\x18\xb3\x8f\xdd\x89\xcf73\x84\xc4\x87\xae\xde\x1f\x11s\xb9h\xe1\xdcuv\xcd\x9e5\xd2u\xbbL\xce:\xfc_\xb0\xd8\xf5\xc7\x8a\xfa$\x9e\xde%\'bf\xfd8\xce\xc9\xf0\xf6\xcc\x1b\x8b\x89\xb2\x93\xb2e\x84\xb2r\xee\xff\xf0\x94\xfd\xdf\x14\xb3\xa9\xe1\xff\x02\xeb\x03\xac\xd7r\x82\x1b\xe7\xde\\\xd59u\xf2\xdei\x1f\xefG\xfeP8\xed\x9duy\x86\xb7\xe6\xf6\x8f\x01Z\xcb\x81v\x11j\x93\xfc_@\xa8U\x02\xb1\xeb\xff\x02\x96ygs\xcfW\x1d>u\xef\x04w\xc6\xcf\xfe\xc9\x1a\x85\xc6\xb7\x15\xa5\xdc\x1c\xba^\x88\xc9\xfd\xec>\x90\xb6\x0f\xe8\x9c\x9d\xcb\xaf\x9e\xf9\xbe6\xe1\xa1\x86g\xe8\x97y\x1a\xb1\xdf\xd7x\xe8\xbd\t\xcd?\xc3\x9f\xfc])qM\x98\xcc\xff\xa6\xf8\x13\r \x02\x18\x0c\x84L\x137\x90\xf8\xe6\xb8L\xfd\xa2e\xade{\xc5\x7f\xc1\x97\x8d\xf3\xadxg*\xe8\x86]\x9bb\x91\x14\xbb&\xa9\x03\xd2V\x02\x1a5\xdaV\x1am+\x8d\xb6\x95F\xdbJ\xa3m\xa5\xd1\xb6\xd20i+-\\\xf1\xf5u\xc1)\x99\xaf\xe7W\xeff\x0b\xca\xbcu\xc42\xbe]l\xe2%\xf5|\x0e\xd9\x07o.U\x17<P\x16\xeb\x0c\xf4y\xe7\xdc\x15\xd3\x7f\xf43_\xd6\x0e\x1f\xcc\xb6\x92\xed\xff\x05n\x8a%j\xcca\x19\xa7\xe7L5^\x15b\xb3-\xa0\xe0\x93\xd3\x9c\x9fj\x81\xd1\xd7N,:\x96\xbb\xee\x8c\x17\xac1b\xff\xfc+\x9fJIK\xbaP\xff\x1c/\x8dM\xb7\xce\xa7\x07\xbej\x90[\xbdi\xe3\x95C\xb7\x13B#m\xe7\xff_`\xb7\xb8\xa8$\xff\xdd\xb5\xa7\xcf\xcc\xcaJ\xb4\xa7\xbcS\xf8\xca\xc1>\xeb\xf3\xe5\t+\xfd\xaf\xec6\x0b:\xb8\'\xfc\x7f3#\'\xb0^_\xf0\x96\xb1(\xee\xd2=\xf7\x9d\x86\xd7\x9b\xdf\xbb\x15\xcdV\xb3\xee\xd5>\xfbz_\xdb\xa3\xb5\xf1\x9c)*N=\xf2D\xb5!\x08\xd5\xfb\x906\x041\xed\x9a\x12\xde\xd9KB\xd8*\x8es\xe9y\xd4.\xe9\x135\xf1b\xce\xef\xe23\x11\xd77{\x90,r\xa3\xfe\xfcvH\xbb\x06\x14\n>\x02\xcb6\xf1\xfc\xdc,\xad\xdb{Ci~\xc3\x89}_\xd9^\x85\xad+\x9b\xf1NWu\x0eWN\xd3\xb6\xf3\x1a;\xfa\xd6f1]\x14\xb5_\xc2\xdb\xeb\xb6\xd9$<a\xc6\xb1\xa3\x8d\xbbl\xe5\xb8\x7f\xff\xedj5c\xfb\x0fl\x880\x7fb\xd0s\x18a\xc9t\xeb\xc7)\xed/\xde\\c\x8f\x8a\x13\xad\xe6\xec\xd2\xd8z\xe8\xcc\xe2\x8d\x07\xe7\xc6-\x9b\xf8\xae\xeb\xf1\x84\xdb\x8b\x8dN8\x05\xf5kv-\xb6^\xeb]\x1e\xb8\xa5\xe5^\x13X+\xbc-\xbffb\xda\x9a\xa7\xa1}\xfb\xff\x9cKmS\xef\xcfR\x0f\x90\x9bR\xe0\xee\xb2\xachm\xe8\xb9/\xa7\xbe?\x8f\xf8\xdf\xca\xfc\xf1\xc3\x1b\x06\xa0z\x93\xff\xcd\xfcN\x0e\x90\x86\xb8\xde\x9e\x7fk7\xc6D\xec\xd0\xbb\xc6XU0\xffvCI\xfbQ\xc7\'\x8f\xf6\x15\xef}\xe8\xb4\xd3:J\xa5\xb9\x81\xf8\xb4\xdf\xf2\x83#DjV\xcfW\xb6\x9byo\xb5\xee\\\xda\x97\xf0w\xb9\xd5\xbd\x8e4\x99\xd4\xaf\xeb\nn\x1f\xb2\xe9Y)\xc3\xf5\xe8\xa7X\xbcfz\xc6\xcf\xc8\xae\xbf\'\x84X+Y\xb2\xf7\x87\xbf\x7fX\xbf\xf4\xf3\xc5\xf8{\xa2!.G\n\x99\xff\xfb\xdb\xf1\xdf\xd7\tP\xcd\xb1\x98yr\xdb\xce\xd0\xd6\xcd\xc9%\xd5W\x1eO\xe9^Wu\xc9\r\x00~\x8b\x845'

# print(zlib.decompress(b'x\x9csOM\xcd.v\xcb/r\x07\xd1\x0e\x86F\xc6&\xa6f\xe6\x16\x00X\xf6\x06\xea'))